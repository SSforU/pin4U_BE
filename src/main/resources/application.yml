spring:
  application:
    name: pin4U
  profiles:
    default: local  # 명시하지 않으면 항상 local로 동작

springdoc:
  swagger-ui:
    path: /swagger-ui.html
  api-docs:
    enabled: true

cors:
  allowed-origins: "http://localhost:3000"

app:
  kakao:
    enabled: ${APP_KAKAO_ENABLED:true}     # ← 기본 ON, 필요하면 env로 false
    rest-api-key: ${KAKAO_REST_API_KEY:}   # ← 키는 반드시 env로
    api:
      base-url: https://dapi.kakao.com
  seed:
    enabled: false
  og:
    image-enabled: false
  summary:
    ttl-days: 7
  ai:
    enabled: ${APP_AI_ENABLED:true}        # ← 기본 ON, 필요하면 env로 false
    openai:
      base_url: https://api.openai.com/v1
      model: ${OPENAI_MODEL:gpt-4o-mini}
      timeout_ms: 8000

resilience4j:
  retry:
    instances:
      kakaoSearch:
        max-attempts: 3
        wait-duration: 300ms
  timelimiter:
    instances:
      kakaoSearch:
        timeout-duration: 2s
  circuitbreaker:
    instances:
      kakaoSearch:
        sliding-window-type: COUNT_BASED
        sliding-window-size: 20
        failure-rate-threshold: 50
  ratelimiter:
    instances:
      kakaoSearch:
        limit-for-period: 10
        limit-refresh-period: 1s

management:
  endpoints:
    web:
      exposure:
        include: health,info,mappings
  endpoint:
    flyway:
      enabled: true
