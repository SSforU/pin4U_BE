spring:
  application:
    name: pin4U
  profiles:
    default: local

springdoc:
  use-fqn: true
  api-docs:
    enabled: true
    path: /v3/api-docs
  swagger-ui:
    enabled: true
    path: /swagger-ui
    urls:
      - name: pin4u
        url: /v3/api-docs

app:
  s3:
    bucket: ss4u-pin4u-bucket
    region: ap-northeast-2
    public-prefix: public/
    endpoint: "https://ss4u-pin4u-bucket.s3.ap-northeast-2.amazonaws.com"
  cookies:
    crossSite: true
    domain: ""
  kakao:
    enabled: ${APP_KAKAO_ENABLED:true}
    rest-api-key: ${KAKAO_REST_API_KEY:}
    api:
      base-url: https://dapi.kakao.com
  seed:
    enabled: false
  og:
    image-enabled: false
  summary:
    ttl-days: 7
  ai:
    enabled: ${APP_AI_ENABLED:true}
    openai:
      base-url: https://api.openai.com/v1
      model: ${OPENAI_MODEL:gpt-4o-mini}
      api-key: ${OPENAI_API_KEY:}

server:
  forward-headers-strategy: framework

resilience4j:
  retry:
    instances:
      kakaoSearch:
        max-attempts: 3
        wait-duration: 300ms
  timelimiter:
    instances:
      kakaoSearch:
        timeout-duration: 2s
  circuitbreaker:
    instances:
      kakaoSearch:
        sliding-window-type: COUNT_BASED
        sliding-window-size: 20
        failure-rate-threshold: 50
  ratelimiter:
    instances:
      kakaoSearch:
        limit-for-period: 10
        limit-refresh-period: 1s

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus
  endpoint:
    health:
      show-details: always
    prometheus:
      enabled: true